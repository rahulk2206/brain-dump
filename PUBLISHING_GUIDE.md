# Brain Dump – Publish on Apple App Store & Google Play

This guide walks you through turning Brain Dump into native iOS and Android apps and publishing them on the **Apple App Store** and **Google Play Store**. It’s written for beginners: every step is numbered and includes what to click and what to expect.

---

## What You Need Before Starting

### For both stores
- **Node.js** (so you can run the build tools).  
  - Download from [https://nodejs.org](https://nodejs.org) (choose the “LTS” version).  
  - After installing, open **Terminal** (Mac) or **Command Prompt** (Windows) and run:  
    `node -v`  
  - You should see a version number (e.g. `v20.x.x`). If you get “command not found”, install Node.js again and restart the terminal.

### For the Apple App Store (iOS)
- A **Mac** (required for building iOS apps).
- **Xcode** (free from the Mac App Store). Install it and open it once so it can finish setup.
- **Apple Developer Program** membership: **$99 USD per year**.  
  - Sign up at [https://developer.apple.com/programs/](https://developer.apple.com/programs/).  
  - You’ll need an Apple ID. Approval can take up to 24–48 hours.

### For the Google Play Store (Android)
- **Android Studio** (free).  
  - Download from [https://developer.android.com/studio](https://developer.android.com/studio).  
  - Install and open it; let it install the Android SDK when prompted.
- **Google Play Developer** account: **$25 USD one-time**.  
  - Sign up at [https://play.google.com/console](https://play.google.com/console).  
  - You’ll need a Google account. Approval often takes a few hours to a day.

---

## Part 1: Set Up the App Project (One Time)

Do this once on your computer. It prepares the native iOS and Android projects from your web app.

### Step 1.1 – Open the project folder in Terminal

1. On your Mac, open **Terminal** (search “Terminal” in Spotlight).
2. Go to your project folder. For example, if the folder is on your Desktop:
   ```bash
   cd ~/Desktop/brain-dump
   ```
   (If your folder is somewhere else, replace `~/Desktop/brain-dump` with that path.)

### Step 1.2 – Install dependencies

1. In the same Terminal window, run:
   ```bash
   npm install
   ```
2. Wait until it finishes (you’ll see something like “added X packages”).  
   - If you see errors about “permission” or “EACCES”, **don’t use `sudo`**. Instead, fix permissions or install Node via a version manager (e.g. nvm).  
   - If it says “command not found: npm”, Node.js isn’t installed or isn’t in your PATH; install Node.js from nodejs.org and try again.

### Step 1.3 – Add the iOS and Android platforms

1. Add the iOS app project:
   ```bash
   npx cap add ios
   ```
   Wait until it says something like “ios platform added”.

2. Add the Android app project:
   ```bash
   npx cap add android
   ```
   Wait until it says “android platform added”.

### Step 1.4 – Copy your web app into the native projects

Run:

```bash
npx cap sync
```

You should see it copy files from the `www` folder into the `ios` and `android` folders.  
**Whenever you change the app (e.g. edit `www/index.html`), run `npx cap sync` again before building.**

---

## Part 2: Publish on the Apple App Store (iOS)

You must do this on a **Mac** with **Xcode** and an **Apple Developer** account.

### Step 2.1 – Open the iOS project in Xcode

1. In Terminal, in your project folder, run:
   ```bash
   npx cap open ios
   ```
2. Xcode will open and show the “App” project. In the left sidebar you should see a blue “App” icon and folders like “App”, “AppPublic”, “Pods”, etc.

### Step 2.2 – Set your Apple ID (Team) and Bundle ID

1. In the left sidebar, click the blue **App** project (top item).
2. In the middle area, under **TARGETS**, select **App**.
3. Click the **Signing & Capabilities** tab at the top.
4. Under **Signing**:
   - Check **“Automatically manage signing”**.
   - **Team**: Click the dropdown and choose your Apple ID (or “Add an Account…” and sign in with the Apple ID that has the $99 Developer Program).
   - If you see “Failed to register bundle identifier”, change the **Bundle Identifier** to something unique, e.g. `com.yourname.braindump` (only letters, numbers, and dots; no spaces).
5. Leave the rest as default and close the dialog if you opened one.

### Step 2.3 – Add an app icon (optional but recommended)

1. In the left sidebar, open **App** → **App** → **Assets.xcassets**.
2. Click **AppIcon**.
3. You’ll see slots for different sizes. You need at least:
   - **1024x1024** (one PNG image for the App Store).
   - Other sizes can be generated by Xcode if you provide 1024x1024: drag your 1024x1024 image into the 1024pt slot.
4. Use a square image (e.g. your logo or “Brain Dump” icon).  
   - If you don’t have one yet, you can skip this; Xcode will use a default. You can replace it later and resubmit.

### Step 2.4 – Choose “Any iOS Device” and Archive

1. At the top of Xcode, next to the “App” scheme, click the device dropdown (it might say “iPhone 15” or a simulator name).
2. Select **“Any iOS Device (arm64)”** (not a simulator).  
   - If you don’t see it, make sure the **Destination** is set to a real device or “Any iOS Device”.
3. In the menu bar: **Product** → **Archive**.
4. Wait for the archive to finish. When it’s done, the **Organizer** window will open and show your archive.

### Step 2.5 – Upload to App Store Connect

1. In the Organizer, select the archive you just created and click **“Distribute App”**.
2. Choose **“App Store Connect”** → **Next**.
3. Choose **“Upload”** → **Next**.
4. Leave options as default (e.g. “Upload your app’s symbols”) → **Next**.
5. Select **“Automatically manage signing”** (if asked) → **Next**.
6. Click **“Upload”** and wait. When it’s done, you’ll see a success message.

### Step 2.6 – Create the app and submit for review in App Store Connect

1. Open [https://appstoreconnect.apple.com](https://appstoreconnect.apple.com) in your browser and sign in with your Apple Developer account.
2. Go to **“My Apps”**.
3. Click the **“+”** to add a new app:
   - **Platforms**: iOS.
   - **Name**: Brain Dump.
   - **Primary Language**: e.g. English.
   - **Bundle ID**: Select the one you used in Xcode (e.g. `com.yourname.braindump`).
   - **SKU**: Any unique string (e.g. `braindump001`).
   - Leave the rest as suggested, then click **Create**.

4. Fill in the **App Information** and **Pricing** sections (you can set “Free”).
5. In the left sidebar, open **“1.0 Prepare for Submission”** (or the version that matches what you uploaded).
6. Fill in:
   - **Screenshots**: At least one screenshot per required device size (e.g. 6.7”, 6.5”, 5.5”). You can take these in the iOS Simulator (File → New Screen Shot) or on a real device.
   - **Description**: Short description of Brain Dump.
   - **Keywords**: e.g. “notes, tasks, ideas, productivity”.
   - **Support URL**: A webpage or your email (e.g. `mailto:you@example.com`).
   - **Version**: e.g. 1.0.
   - **Build**: Click **“+”** and select the build you uploaded; it may take 5–15 minutes to appear.

7. Answer the **App Review** questions (e.g. age rating, encryption, etc.). For a simple notes app, you typically don’t use encryption beyond HTTPS.
8. Click **“Submit for Review”**.  
   - Apple usually reviews within 24–48 hours. You’ll get an email when the status changes.

---

## Part 3: Publish on the Google Play Store (Android)

You need **Android Studio** and a **Google Play Developer** account.

### Step 3.1 – Open the Android project in Android Studio

1. In Terminal, in your project folder, run:
   ```bash
   npx cap open android
   ```
2. Android Studio will open. If it asks to “Sync” or “Update” Gradle, click **OK** or **Sync Now** and wait until it finishes.

### Step 3.2 – Create a keystore (first time only)

You need a **keystore** to sign your app. You must keep this file and password safe; you’ll need them for every future update.

1. In Android Studio menu: **Build** → **Generate Signed Bundle / APK**.
2. Select **“Android App Bundle”** (recommended for Play Store) → **Next**.
3. Under **Key store path**, click **“Create new...”**.
4. Fill in:
   - **Key store path**: Choose a folder and a filename, e.g. `braindump-keystore.jks`. Don’t put it inside the project folder if you use Git (add it to `.gitignore`).
   - **Password**: Choose a strong password and **write it down**.
   - **Alias**: e.g. `braindump`.
   - **Key password**: Can be same as keystore password.
   - **Validity**: e.g. 25 years.
   - **Certificate**: First and last name, organization, etc. (can be minimal).
5. Click **OK**, then **Next**.

### Step 3.3 – Build the release bundle

1. **Build Variants**: Choose **release**.
2. Click **Create**.  
   - The first time may take a few minutes. When it’s done, Android Studio will show a path like:  
     `android/app/release/app-release.aab`  
   - That **.aab** file is what you upload to the Play Console.

### Step 3.4 – Create the app and upload the bundle in Play Console

1. Open [https://play.google.com/console](https://play.google.com/console) and sign in with your Google Play Developer account.
2. Click **“Create app”**.
3. Fill in:
   - **App name**: Brain Dump.
   - **Default language**: e.g. English.
   - **App or game**: App.
   - **Free or paid**: Free (or Paid if you want).
   - Accept the declarations and click **Create app**.

4. In the left menu, open **“Release”** → **“Production”** (or **“Testing”** first if you want to test before going live).
5. Click **“Create new release”**.
6. Under **“App bundles”**, click **“Upload”** and select your **app-release.aab** file from:  
   `brain-dump/android/app/release/app-release.aab`  
   (or wherever Android Studio said it was.)
7. Add **Release name** (e.g. “1.0 (1)”) and **Release notes** (e.g. “Initial release”).
8. Click **Save** (top right).

### Step 3.5 – Complete the store listing and submit

1. In the left menu, go to **“Grow”** → **“Main store listing”** (or **“Store presence”** → **“Main store listing”**).
2. Fill in:
   - **Short description** (up to 80 characters).
   - **Full description** (up to 4000 characters).
   - **App icon**: 512 x 512 PNG.
   - **Screenshots**: At least 2 (phone); use Android Studio emulator or a real device to capture.
3. Under **“Policy”**, complete **“App content”** (e.g. privacy policy if required, ads declaration if you add ads later).
4. Go back to **Release** → **Production** (or your release track).  
   - When the release is ready, click **“Review release”** and then **“Start rollout to Production”** (or to Testing first).  
   - Review can take from a few hours to a few days.

---

## Part 4: After Publishing

### Updating the app

1. **Change your app** (e.g. edit `www/index.html` or add features).
2. In **capacitor.config.json**, you can bump **version** if you use it (or do it in the store listing).
3. In Terminal:
   ```bash
   npx cap sync
   ```
4. **iOS**: Open `npx cap open ios`, then in Xcode bump the **Version** and **Build** number (under **General** for the App target), then **Product** → **Archive**, then distribute and upload the new build. In App Store Connect, create a new version and submit.
5. **Android**: In Android Studio, open **Build** → **Generate Signed Bundle / APK**, choose your existing keystore, build a new **release** .aab, then upload that new .aab in the Play Console as a new release.

### Keeping `www` in sync

- The native apps load the files from the **`www`** folder. Your main web file is **`www/index.html`**.
- If you also keep a copy of `index.html` in the project root for opening in a browser, remember to copy changes into **`www/index.html`** (or make edits in `www/` and copy to root) so the built app and the web version stay the same.

### App icon

- **iOS**: Replace the icon in **App** → **App** → **Assets.xcassets** → **AppIcon** (include 1024x1024).
- **Android**: Replace icons in **android/app/src/main/res** (mipmap folders) or use Android Studio’s **Image Asset** tool (right‑click **res** → **New** → **Image Asset**).

---

## Quick reference – commands

```bash
cd ~/Desktop/brain-dump   # go to project
npm install               # one-time install
npx cap add ios           # one-time add iOS
npx cap add android       # one-time add Android
npx cap sync              # after any change to www/
npx cap open ios          # open iOS project in Xcode
npx cap open android      # open Android project in Android Studio
```

---

## Troubleshooting

- **“npm: command not found”**  
  Install Node.js from [nodejs.org](https://nodejs.org) and restart Terminal.

- **Xcode: “No signing certificate”**  
  In Xcode → **Signing & Capabilities**, select your **Team** (Apple ID with Developer Program). If you don’t have a team, join at [developer.apple.com/programs](https://developer.apple.com/programs).

- **Android: “SDK location not found”**  
  Open the project in Android Studio and let it sync; it will prompt to set the SDK path. Or set `ANDROID_HOME` to your Android SDK folder.

- **White/blank screen in the app**  
  Make sure you ran `npx cap sync` after changing files. The app loads from `www/index.html`; check the browser console if you run the same code in a browser.

- **Build or upload errors**  
  Read the error message: Xcode and Android Studio usually point to the problem (e.g. missing icon, wrong bundle ID, or signing). For store submission, follow the exact errors in App Store Connect or Play Console.

If you follow this guide step by step, you’ll have Brain Dump set up as a native app and ready to publish on both the Apple App Store and Google Play Store.
